{"version":3,"sources":["../src/promiseEvent.js"],"names":["module","exports","promiseEvent","target","event","Promise","resolve","reject","cleanup","removeListener","onEvent","onError","data","err","addListener"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiB,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqC;AACpD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,aAASC,OAAT,GAAmB;AACjBL,MAAAA,MAAM,CAACM,cAAP,CAAsBL,KAAtB,EAA6BM,OAA7B;AACAP,MAAAA,MAAM,CAACM,cAAP,CAAsB,OAAtB,EAA+BE,OAA/B;AACD;;AACD,aAASD,OAAT,CAAiBE,IAAjB,EAAuB;AACrBN,MAAAA,OAAO,CAACM,IAAD,CAAP;AACAJ,MAAAA,OAAO;AACR;;AACD,aAASG,OAAT,CAAiBE,GAAjB,EAAsB;AACpBN,MAAAA,MAAM,CAACM,GAAD,CAAN;AACAL,MAAAA,OAAO;AACR;;AACDL,IAAAA,MAAM,CAACW,WAAP,CAAmBV,KAAnB,EAA0BM,OAA1B;AACAP,IAAAA,MAAM,CAACW,WAAP,CAAmB,OAAnB,EAA4BH,OAA5B;AACD,GAfM,CAAP;AAgBD,CAjBD","sourcesContent":["\"use strict\";\n\nmodule.exports = function promiseEvent(target, event) {\n  return new Promise((resolve, reject) => {\n    function cleanup() {\n      target.removeListener(event, onEvent);\n      target.removeListener(\"error\", onError);\n    }\n    function onEvent(data) {\n      resolve(data);\n      cleanup();\n    }\n    function onError(err) {\n      reject(err);\n      cleanup();\n    }\n    target.addListener(event, onEvent);\n    target.addListener(\"error\", onError);\n  });\n};\n"],"file":"promiseEvent.js"}